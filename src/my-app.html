<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html"><link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html"><link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../bower_components/app-route/app-location.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../bower_components/iron-selector/iron-selector.html"><link rel="import" href="../bower_components/iron-iconset-svg/iron-iconset-svg.html"><link rel="import" href="../bower_components/neon-animation/web-animations.html"><link rel="import" href="../bower_components/neon-animation/animations/fade-in-animation.html"><link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html"><link rel="import" href="../bower_components/neon-animation/animations/scale-up-animation.html"><link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-item/paper-icon-item.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-tabs/paper-tabs.html"><link rel="import" href="../bower_components/paper-progress/paper-progress.html"><link rel="import" href="../bower_components/paper-fab/paper-fab.html"><link rel="import" href="../bower_components/paper-tooltip/paper-tooltip.html"><link rel="import" href="../bower_components/iron-ajax/iron-ajax.html"><link rel="import" href="../bower_components/paper-dialog/paper-dialog.html"><link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html"><link rel="import" href="my-page-preload.html"><link rel="import" href="my-icons.html"><link rel="import" href="shared-styles.html"><link rel="lazy-import" href="my-page-help.html"><link rel="lazy-import" href="my-page-control-panel.html"><link rel="lazy-import" href="my-page-action-map.html"><link rel="lazy-import" href="my-page-login.html"><link rel="lazy-import" href="my-page-feedback.html"><link rel="lazy-import" href="my-page-profile.html"><link rel="lazy-import" href="my-page-diagnostics.html"><link rel="lazy-import" href="my-page-password-recovery.html"></head><body><dom-module id="my-app"><template><style include="shared-styles">:host{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--primary-color:#216540;--primary-light-color:#51936b;--primary-dark-color:#003a19;--accent-color:#e46030;--accent-light-color:#ff915c;--accent-dark-color:#ab2f00;--paper-tab-ink:white;--paper-tabs-selection-bar-color:var(--accent-color);--paper-tabs:{text-transform:uppercase;font-weight:normal;};--paper-fab:{z-index:10;position:absolute;bottom:1.5em;right:1.5em;};--paper-fab-background:var(--accent-color);--paper-fab-keyboard-focus-background:var(--accent-dark-color);}app-drawer-layout:not([narrow]) [drawer-toggle]{display:none;}.drawer-list hr{margin:7px 0 8px;border:0;border-bottom:1px solid rgba(0, 0, 0, .12);}.drawer-list a{text-decoration:none;color:var(--primary-text-color);}.drawer-list iron-icon{color:var(--secondary-text-color);}.drawer-list .iron-selected iron-icon{color:var(--accent-color);}.drawer-list .iron-selected span{font-weight:500;color:var(--accent-color);}.drawer-spacer{flex-grow:1;}.drawer-version{padding:1rem;box-sizing:border-box;}.drawer-version p,
			.drawer-version a{@apply --paper-font-caption;color:var(--disabled-text-color);margin:0;text-decoration:none;}app-header{color:#fff;background-color:var(--primary-color);}app-header::after{content:'';position:absolute;min-height:400px;top:-400px;width:100%;z-index:-1;background-color:var(--primary-color);}app-toolbar{height:56px;}@media screen and (min-width: 50em){app-toolbar{height:64px;}}app-toolbar{--paper-icon-button:{width:48px;height:48px;padding:12px;margin-left:-12px;};}app-toolbar paper-icon-button{flex:0 0 auto;}.main-title-input{--paper-input-container-color:rgba(255, 255, 255, .3);--paper-input-container-input-color:#fff;--paper-input-container-focus-color:var(--accent-color);--paper-input-container-label:{@apply --paper-font-title;};--paper-input-container-input:{@apply --paper-font-title;};--paper-input-container-underline-disabled:{border-color:var(--primary-light-color);};--paper-input-container-disabled:{opacity:1;};flex:0 1 290px;}#editTitleButton{margin-left:16px;margin-right:-12px;}[main-title],
			.main-title-input{padding-left:4px;}@media screen and (min-width: 64em){[main-title],
				.main-title-input{padding-left:72px;}}app-header paper-icon-button{--paper-icon-button-ink-color:white;}paper-tab{font-weight:500;}@media screen and (min-width: 48em){iron-pages{padding:1em 6.5em;}}@supports (padding-top: env(safe-area-inset-top)){app-drawer{--app-drawer-content-container:{padding-left:env(safe-area-inset-left);};}app-toolbar{padding-top:env(safe-area-inset-top);padding-left:max(16px, env(safe-area-inset-left));padding-right:max(16px, env(safe-area-inset-right));}paper-tabs{padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);}iron-pages>*{padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);padding-bottom:0;}}#linkFluido p{position:relative;z-index:100;}#linkFluido:focus{outline:none;}#linkFluido:focus p{color:var(--primary-text-color);overflow:visible;}#linkFluido:focus p::before{content:"";position:absolute;top:0;right:-16px;bottom:0;left:-16px;z-index:-1;background:currentColor;opacity:var(--dark-divider-opacity);}</style><app-location route="{{route}}" use-hash-as-path=""></app-location><app-route route="{{route}}" pattern=":page" data="{{routeData}}"></app-route><template is="dom-if" if="[[_equalXOR(routeData.page, 'painel_de_controle')]]"><paper-fab id="diagFab" icon="my-icons:add" on-click="_fabAddHandle"></paper-fab><paper-tooltip for="diagFab" animation-delay="0" position="left">Criar novo diagnóstico</paper-tooltip></template><app-drawer-layout fullbleed="" force-narrow="[[!_drawerOpen]]" narrow="{{narrow}}" responsive-width="1023px"><app-drawer id="drawer" slot="drawer" swipe-open="[[narrow]]"><div style="height: 100%; overflow-y: auto; display: flex; flex-direction: column;"><app-toolbar style="height:112px"><img tabindex="0" src="./images/logo-mapee.svg" alt="Marca do Mapee" style="width:auto; height:65%; margin:0 auto; outline:none;"></app-toolbar><iron-selector selected="[[routeData.page]]" attr-for-selected="name" class="drawer-list" role="navigation"><template is="dom-repeat" items="[[drawerTabs]]" as="t"><a tabindex="-1" name="[[t.link]]" href="#[[t.link]]"><paper-icon-item><iron-icon icon="my-icons:[[t.icon]]" slot="item-icon"></iron-icon><span>[[t.content]]</span></paper-icon-item></a><template is="dom-if" if="[[t.hasDivider]]"><hr></template></template></iron-selector><div class="drawer-spacer"></div><div class="drawer-version"><p>Mapee versão [[version]]</p><p>2018 © Todos os direitos reservados</p><a href="http://fluido.design" id="linkFluido" target="_blank"><p>Desenvolvido por Fluido Design</p></a></div></div></app-drawer><app-header-layout id="headerLayout" has-scrolling-region=""><app-header slot="header" fixed="" shadow=""><paper-progress id="globalProgress"></paper-progress><app-toolbar><template is="dom-if" if="[[_drawerOpen]]"><paper-icon-button icon="my-icons:menu" drawer-toggle=""></paper-icon-button></template><template is="dom-if" if="[[!_drawerOpen]]"><paper-icon-button icon="my-icons:arrow-back" aria-label="Voltar" on-click="_windowBack"></paper-icon-button></template><template is="dom-if" if="[[!_titleEditable]]"><div main-title="">[[title]]</div></template><template is="dom-if" if="[[_titleEditable]]"><paper-input no-label-float="" class="main-title-input" label="Nome do diagnóstico" value="{{title}}" disabled="[[!_titleEditing]]"></paper-input><paper-icon-button id="editTitleButton" icon="my-icons:[[_composeIconTitleEditing(_titleEditing)]]" on-click="_launchTitleEdit" aria-label$="[[_titleAriaLabel]]"></paper-icon-button><paper-tooltip for="editTitleButton" animation-delay="0" position="bottom" entry-animation="fade-in-animation" exit-animation="fade-out-animation">[[_titleAriaLabel]]</paper-tooltip></template></app-toolbar></app-header><iron-pages selected="[[routeData.page]]" attr-for-selected="id" role="main"><my-page-password-recovery id="recovery" route="{{route}}"></my-page-password-recovery><my-page-help id="ajuda" route="{{route}}"></my-page-help><my-page-control-panel id="painel_de_controle" route="{{route}}"></my-page-control-panel><my-page-action-map id="mapa_de_acao" route="{{route}}"></my-page-action-map><my-page-feedback id="feedback" route="{{route}}"></my-page-feedback><my-page-profile id="perfil" route="{{route}}"></my-page-profile><my-page-diagnostics id="diagnosticos" route="{{route}}"></my-page-diagnostics><my-page-login id="login" route="{{route}}"></my-page-login><my-page-preload id="preload" route="{{route}}"></my-page-preload></iron-pages></app-header-layout></app-drawer-layout><paper-dialog opened="{{dialogOpen}}" modal="" always-on-top="" no-cancel-on-outside-click="" entry-animation="scale-up-animation" exit-animation="fade-out-animation"><h2>[[dialog.title]]</h2><paper-dialog-scrollable><div>[[dialog.content]]</div></paper-dialog-scrollable><div class="buttons"><template is="dom-repeat" items="[[dialog.buttons]]" as="b"><paper-button dialog-confirm="" on-click="_clickDialog">[[b.label]]</paper-button></template><paper-button dialog-dismiss="" autofocus="">Cancelar</paper-button></div></paper-dialog><iron-ajax id="question_1h_ajax" url="src/questions/1h.json" content-type="application/json" handle-as="json" method="GET" on-response="_question1hResponse"></iron-ajax><iron-ajax id="question_1w_ajax" url="src/questions/1w.json" content-type="application/json" handle-as="json" method="GET" on-response="_question1wResponse"></iron-ajax><iron-ajax id="question_2w_ajax" url="src/questions/2w.json" content-type="application/json" handle-as="json" method="GET" on-response="_question2wResponse"></iron-ajax><iron-ajax id="question_3w_ajax" url="src/questions/3w.json" content-type="application/json" handle-as="json" method="GET" on-response="_question3wResponse"></iron-ajax><iron-ajax id="question_4w_ajax" url="src/questions/4w.json" content-type="application/json" handle-as="json" method="GET" on-response="_question4wResponse"></iron-ajax><iron-ajax id="question_5w_ajax" url="src/questions/5w.json" content-type="application/json" handle-as="json" method="GET" on-response="_question5wResponse"></iron-ajax><iron-ajax id="question_description_ajax" url="src/questions/description.json" content-type="application/json" handle-as="json" method="GET" on-response="_questionDescriptionResponse"></iron-ajax></template><script>window.apiURL="https://mapee.herokuapp.com";window.globalWaiting=wait=>{window.dispatchEvent(new CustomEvent("waiting",{detail:{wait}}))};class MyApp extends Polymer.Element{static get is(){return"my-app"}static get properties(){return{version:{type:String,value:"0.8.0-beta",readOnly:!0},routeData:{type:Object,notify:!0},drawerTabs:{type:Array,value(){return[{link:"ajuda",icon:"help",content:"Tutorial",hasDivider:!0},{link:"painel_de_controle",icon:"pie-chart",content:"Painel de Controle",hasDivider:!1},{link:"mapa_de_acao",icon:"insert-drive-file",content:"Mapa para a\xE7\xE3o",hasDivider:!0},{link:"perfil",icon:"person",content:"Perfil",hasDivider:!1},{link:"feedback",icon:"feedback",content:"Feedback",hasDivider:!0},{link:"sair_do_mapee",icon:"exit-to-app",content:"Sair do Mapee",hasDivider:!1}]}},title:String,_drawerOpen:{type:Boolean,value:!1},_wating:{type:Boolean,value:!1},apiURL:{type:String,readOnly:!0,value(){return window.apiURL}},_titleEditable:{type:Boolean,value:!1},_titleEditing:{type:Boolean,value:!1},_titleAriaLabel:{type:String},_titleAriaLabelDefault:{type:String},dialogOpen:{type:Boolean,value:!1},dialog:{type:Object}}}static get observers(){return["_routePageChanged(routeData.page)"]}ready(){super.ready();this.$.question_1h_ajax.generateRequest();this.$.question_1w_ajax.generateRequest();this.$.question_2w_ajax.generateRequest();this.$.question_3w_ajax.generateRequest();this.$.question_4w_ajax.generateRequest();this.$.question_5w_ajax.generateRequest();this.$.question_description_ajax.generateRequest();window.addEventListener("page-response",e=>{let result=e.detail,title="string"===typeof result.title?result.title:this.title||"Mapee";this.set("title",title);this.set("_drawerOpen",!!result.drawerOpen);this.set("_titleEditable",!!result.titleEditable);this.set("_titleAriaLabelDefault",result.titleAriaLabel||this._titleAriaLabelDefault||"Editar Titulo");this.set("_titleAriaLabel",this._titleAriaLabelDefault);this.$.headerLayout.resetLayout()});window.addEventListener("waiting",e=>{this.$.globalProgress.set("indeterminate",e.detail.wait)});window.addEventListener("open-dialog",e=>{this.set("dialogOpen",!0);this.set("dialog",e.detail)});this._importPage("my-page-login");this._importPage("my-page-help");this._importPage("my-page-control-panel");this._importPage("my-page-diagnostics");this._importPage("my-page-action-map");this._importPage("my-page-profile");this._importPage("my-page-feedback");this._importPage("my-page-password-recovery")}_importPage(page){let resolvedPageUrl=this.resolveUrl(page+".html");Polymer.importHref(resolvedPageUrl)}_question1hResponse(e){window.localStorage.setItem("mapee_question_1h",JSON.stringify(e.detail.response))}_question1wResponse(e){window.localStorage.setItem("mapee_question_1w",JSON.stringify(e.detail.response))}_question2wResponse(e){window.localStorage.setItem("mapee_question_2w",JSON.stringify(e.detail.response))}_question3wResponse(e){window.localStorage.setItem("mapee_question_3w",JSON.stringify(e.detail.response))}_question4wResponse(e){window.localStorage.setItem("mapee_question_4w",JSON.stringify(e.detail.response))}_question5wResponse(e){window.localStorage.setItem("mapee_question_5w",JSON.stringify(e.detail.response))}_questionDescriptionResponse(e){window.localStorage.setItem("mapee_question_description",JSON.stringify(e.detail.response))}_routePageChanged(page){page=page||"ajuda";this.page=page;if(this.routeData.page!=page)window.setLocation(page);if("sair_do_mapee"==page){window.getTransactionMapeeUser().store.clear().onsuccess=()=>{window.getTransactionMapeeDiag().store.clear().onsuccess=()=>{window.setLocation("login")}}}if(this.$.drawer&&!this.$.drawer.persistent){this.$.drawer.close()}}_equalXOR(){let page=arguments[0],test=!1;for(let i=1;i<arguments.length;i++){if(!test){test=page==arguments[i]}else{if(test&&page==arguments[i]){return!1}}}return test}_windowBack(){if("login"==this.routeData.page){location.href="http://mapee.com.br"}else{if("diagnosticos"==this.routeData.page)window.setLocation("painel_de_controle");else window.history.back()}}_fabAddHandle(){window.dispatchEvent(new CustomEvent("fabadd-action"))}_composeIconTitleEditing(editing){return editing?"check":"create"}_launchTitleEdit(){this._titleEditing=!this._titleEditing;if(this._titleEditing){this.shadowRoot.querySelector(".main-title-input").focus();this._titleAriaLabel="Confirmar edi\xE7\xE3o"}else{window.dispatchEvent(new CustomEvent("title-confirm",{detail:{title:this.title}}));this._titleAriaLabel=this._titleAriaLabelDefault}}_clickDialog(e){window.dispatchEvent(new CustomEvent("dialog-response",{detail:{button:e.model.b.value}}));e.model.b.callback(e.model.b.value)}}window.customElements.define(MyApp.is,MyApp);</script></dom-module></body></html>